# 📘 MST (Minimum Spanning Tree, 최소 신장 트리)

## ✅ 정의
- **그래프의 모든 정점을 연결하는 부분 그래프** 중  
  **간선 가중치의 합이 최소가 되는 트리**
- **사이클이 없는 연결 그래프 (Spanning Tree)** 중에서, **최소 비용을 갖는 트리**

### 🔹 조건 요약
- **그리디 문제에서 보통 사용**
- **N개의 정점** → 항상 **N - 1개의 간선**으로 구성
- **무방향 연결 그래프**
- **사이클 X**, **모든 정점 연결 O**

---

## ✅ 예시

```
정점: A, B, C, D, E

    A
   / \
  1   3
 B --- C
 | \   |
 4  2  5
 |     \
 D------E
     6
```

- 가능한 트리는 여러 개
- 그중 **최소 비용의 트리**만 선택

```
MST 선택 간선: (A-B-1), (B-C-3), (B-D-2), (D-E-6)
총 비용: 1 + 3 + 2 + 6 = ✅ 12
```

---

# ⚙️ MST를 구하는 대표 알고리즘

## 📌 1. Prim’s Algorithm (프림 알고리즘)

### ✅ 개념
- **정점 기반 알고리즘!!**
- **아무 정점**에서 시작 → **가장 짧은 간선**을 골라 하나씩 확장
- 방문한 정점과 연결된 간선 중 가장 짧은 것 선택
- 하나의 정점에서 시작해서 간선 중 최소 비용의 간선을 선택한다. **MST 확장 단위가 정점이기 때문에 정점 기반 알고리즘이라고 하지만 실제로 선택하는건 간선**이다.

### ✅ 동작 과정
1. 임의의 정점에서 시작 (예: A)
2. 방문한 정점과 인접한 간선 중 최소 비용 간선 선택
3. 해당 간선을 통해 새 정점을 방문
4. 모든 정점이 연결될 때까지 반복

### ✅ 정리
**정리하자면 Prim 알고리즘은 매 반복마다 MST에 포함되지 않은 정점 중 최소 간선 비용의 정점을 선택하고, 
그 정점을 기준으로 인접한 정점들의 최소 연결 비용을 갱신하는 방식이다.**

### ✅ 구현 방식
- **우선순위 큐(Min-Heap)** 기반 → 효율적
- 방문 배열로 사이클 방지

### ✅ 시간복잡도(V는 간선)
- `O(E log V)` (우선순위 큐 사용 시)
- `O(V²)` (배열 기반 단순 구현)

### ⚠️ 주의사항
1. 이미 방문한 정점을 또 방문하지 않도록 체크
→ **방문 배열을 꼭 써야 함 (visited[])**
2. **우선순위 큐 사용 시, 중복 간선이 계속 들어올 수 있음**
→ **최소 간선을 뽑을 때마다 이미 방문한 정점이면 스킵**
3. 그래프가 연결되어 있지 않으면 MST를 만들 수 없음
→ **프림은 연결되지 않은 컴포넌트는 확장 못함** → "Disconnected" 체크 필요

### ✅ 특징
| 항목 | 설명 |
|------|------|
| 접근 방식 | **정점 중심** |
| 자료구조 | 우선순위 큐(PriorityQueue) |
| 사이클 판별 | ❌ 별도 불필요 (방문 체크로 충분) |
| 정렬 필요 | ❌ 필요 없음 |
| 적합한 상황 | **Dense Graph (간선 많은 그래프)** |

---

## 📌 2. Kruskal’s Algorithm (크루스칼 알고리즘)

### ✅ 개념
- **간선 중심 알고리즘!!**
- 간선을 **가중치 기준으로 정렬**
- **사이클이 생기지 않는 간선**을 하나씩 선택

### ✅ 동작 과정
1. 간선을 **가중치 오름차순**으로 정렬
2. 하나씩 간선을 선택
3. 선택된 두 정점이 **서로 다른 집합**에 속하면 연결 (사이클 X)
4. **유니온 파인드(Disjoint Set)**로 집합 관리
5. 간선 N - 1개 선택 시 종료

### ✅ 구현 방식
- 간선 리스트 정렬 + 유니온 파인드

### ✅ 시간복잡도
- `O(E log E)` (간선 정렬)
- `O(α(N))` (유니온 파인드 – 상수에 가까움)

### ⚠️ 주의사항
1. **사이클 판별을 위해 유니온 파인드 필수**
→ **find & union 구현 정확**히 해야 함
2. **간선 정렬이 반드시 선행**되어야 함
→ **정렬 누락 시 MST 보장 안 됨**
3. **간선을 추가할 때마다 두 정점이 같은 집합인지 먼저 체크**
→ 안 하면 사이클 생김
4. **정점이 N개라면 MST는 정확히 N-1개의 간선을 선택**해야 함

### ✅ 특징
| 항목 | 설명 |
|------|------|
| 접근 방식 | **간선 중심** |
| 자료구조 | 간선 리스트 + 유니온 파인드 |
| 사이클 판별 | ✅ 유니온 파인드 |
| 정렬 필요 | ✅ 간선 정렬 필수 |
| 적합한 상황 | **Sparse Graph (간선 적은 그래프)** |

---

## 📊 프림 vs 크루스칼 비교

| 기준             | Prim                          | Kruskal                          |
|------------------|-------------------------------|----------------------------------|
| 중심 요소        | **정점 중심**                  | **간선 중심**                    |
| 사이클 판별      | ❌ 방문 배열                   | ✅ 유니온 파인드                 |
| 자료구조         | 우선순위 큐 (MinHeap)          | 간선 리스트 + 유니온 파인드      |
| 정렬 필요        | ❌ 없음                        | ✅ 필수                           |
| 구현 난이도      | 중간                           | 쉽고 직관적                      |
| 적합한 그래프    | Dense (간선 많음)              | Sparse (간선 적음)              |
| 시간복잡도       | `O(E log V)`                   | `O(E log E)`                     |

---

## ✅ 요약 정리

| 알고리즘  | 핵심 아이디어                         | 시간복잡도     | 추천 상황             | 구현 참고 |
|-----------|----------------------------------------|----------------|------------------------|------------|
| Prim      | 정점에서 출발, 최소 간선으로 트리 확장 | O(E log V)     | Dense 그래프           | 우선순위 큐 |
| Kruskal   | 간선을 정렬, 사이클 없이 선택           | O(E log E)     | Sparse 그래프          | 유니온 파인드 |

---

## 📁 구현 예시 링크 (전체 구현 방식 정리)

### ✅ Prim (프림 알고리즘)

| 구현 방식                 | 설명 | 예시 링크 |
|-----------------------|------|-----------|
| `Prim_AdjMatrix.java` | **인접 행렬** 기반, (O(V²) | [✔️ Prim_AdjMatrix.java](../code/Prim_AdjMatrix.java) |
| `Prim_AdjListPQ.java` | **인접 리스트** + 우선순위 큐 (실전 최적 조합) | [✔️ Prim_AdjList.java](../그래프/Prim_AdjList.java) |

---

### ✅ Kruskal (크루스칼 알고리즘)

| 구현 방식 | 설명 | 예시 링크 |
|-----------|------|-----------|
| `Kruskal_UnionFind.java` | 기본적인 **유니온 파인드 기반** 구현 | [✔️ Kruskal_UnionFind.java](../code/Kruskal_UnionFind.java) |
| `Kruskal_RankUnion.java` | **랭크 기반 유니온 최적화** | [✔️ Kruskal_RankUnion.java](../code/Kruskal_RankUnion.java) |

---

# [관련 문제]([문제모음.md](../../../tips/%EB%AC%B8%EC%A0%9C%EB%AA%A8%EC%9D%8C.md))