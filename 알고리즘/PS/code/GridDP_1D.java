import java.util.*;


// ê·¸ë¦¬ë“œ DP - 2ë²ˆ ìœ í˜•: ê³µê°„ ìµœì í™”(1ì°¨ì› ë°°ì—´)

// ì‹œê°„ë³µì¡ë„ : O(m*n), ê³µê°„ë³µì¡ë„ : O(n)
// mì€ í–‰, nì€ ì—´ì´ë‹¤.
public class GridDP_1D {

    // âœ… í…ŒìŠ¤íŠ¸ìš© ë©”ì¸ í•¨ìˆ˜
    public static void main(String[] args) {
        int[][] grid = {
                {1, 3, 1},
                {1, 5, 1},
                {4, 2, 1}
        };

        int result = minPathSum_1D(grid);
        System.out.println("ìµœì†Œ ê²½ë¡œ í•©: " + result); // ì¶œë ¥: 7
    }

    public static int minPathSum_1D(int[][] grid) {
        int m = grid.length;
        int n = grid[0].length;

        int[] dp = new int[n];  // ğŸ”¹ í˜„ì¬ í–‰ì—ì„œì˜ ìµœì†Œ ëˆ„ì í•©ë§Œ ì €ì¥ (ì´ì „ í–‰ì€ ë®ì–´ì”€)

        // ğŸ”¸ ì²« í–‰ ì´ˆê¸°í™”: ì˜¤ì§ ì˜¤ë¥¸ìª½ìœ¼ë¡œë§Œ ì´ë™ ê°€ëŠ¥
        dp[0] = grid[0][0];  // ì‹œì‘ ìœ„ì¹˜
        for (int j = 1; j < n; j++) {
            dp[j] = dp[j - 1] + grid[0][j];  // ì™¼ìª½ì—ì„œë§Œ ì˜¬ ìˆ˜ ìˆìŒ
        }

        // ğŸ”¸ ë‘ ë²ˆì§¸ í–‰ë¶€í„°ëŠ” ìœ„ìª½ê³¼ ì™¼ìª½ì„ ë¹„êµí•´ì„œ ìµœì†Œ ê²½ë¡œ êµ¬í•¨
        for (int i = 1; i < m; i++) {
            // ì²« ì—´ì€ ìœ„ìª½ì—ì„œë§Œ ì˜¬ ìˆ˜ ìˆìŒ â†’ dp[0] ê°±ì‹ 
            dp[0] += grid[i][0];

            for (int j = 1; j < n; j++) {
                // ğŸ”¹ dp[j] = ìœ„ìª½ì—ì„œ ì˜¤ëŠ” ê°’
                // ğŸ”¹ dp[j - 1] = ì™¼ìª½ì—ì„œ ì˜¤ëŠ” ê°’
                dp[j] = Math.min(dp[j], dp[j - 1]) + grid[i][j];
            }
        }

        // ğŸ”¹ ë§ˆì§€ë§‰ ìœ„ì¹˜ê¹Œì§€ì˜ ìµœì†Œ ê²½ë¡œ í•©ì´ ì €ì¥ë˜ì–´ ìˆìŒ
        return dp[n - 1];
    }
}
