import java.util.*;


// ê·¸ë¦¬ë“œ DP - 5ë²ˆ ìœ í˜•: ì í”„/ì´ë™ ì œí•œ
public class GridDP_PathWithObstacles {
    public static int uniquePathsWithObstacles(int[][] grid) {
        int m = grid.length;
        int n = grid[0].length;

        // ğŸ”¹ DP ë°°ì—´ ìƒì„±: dp[i][j]ëŠ” (0,0) â†’ (i,j)ê¹Œì§€ì˜ ê²½ë¡œ ìˆ˜ë¥¼ ì˜ë¯¸
        int[][] dp = new int[m][n];

        // âœ… ì‹œì‘ì ì´ ì¥ì• ë¬¼ì´ë©´ ê²½ë¡œ ìì²´ê°€ ì—†ìŒ
        if (grid[0][0] == 1) return 0;

        // ğŸ”¸ ì‹œì‘ì  ì´ˆê¸°í™”: ì¥ì• ë¬¼ì´ ì—†ë‹¤ë©´ ê²½ë¡œ ìˆ˜ 1
        dp[0][0] = 1;

        // ğŸ”¹ ì²« ë²ˆì§¸ í–‰ ì´ˆê¸°í™”
        for (int j = 1; j < n; j++) {
            // ì´ì „ ì¹¸ì´ ê²½ë¡œê°€ 0ì´ê±°ë‚˜ í˜„ì¬ ì¹¸ì´ ì¥ì• ë¬¼ì´ë©´ ê²½ë¡œ ìˆ˜ëŠ” 0
            dp[0][j] = (grid[0][j] == 0 && dp[0][j - 1] == 1) ? 1 : 0;
        }

        // ğŸ”¹ ì²« ë²ˆì§¸ ì—´ ì´ˆê¸°í™”
        for (int i = 1; i < m; i++) {
            // ì´ì „ ì¹¸ì´ ê²½ë¡œê°€ 0ì´ê±°ë‚˜ í˜„ì¬ ì¹¸ì´ ì¥ì• ë¬¼ì´ë©´ ê²½ë¡œ ìˆ˜ëŠ” 0
            dp[i][0] = (grid[i][0] == 0 && dp[i - 1][0] == 1) ? 1 : 0;
        }

        // ğŸ” DP í…Œì´ë¸” ì±„ìš°ê¸°
        for (int i = 1; i < m; i++) {
            for (int j = 1; j < n; j++) {
                // í˜„ì¬ ìœ„ì¹˜ì— ì¥ì• ë¬¼ì´ ìˆë‹¤ë©´ ê²½ë¡œ ìˆ˜ëŠ” 0
                if (grid[i][j] == 1) {
                    dp[i][j] = 0;
                } else {
                    // ì¥ì• ë¬¼ì´ ì—†ìœ¼ë©´ ìœ„ + ì™¼ìª½ì—ì„œ ì˜¤ëŠ” ê²½ë¡œ ìˆ˜ë¥¼ ë”í•¨
                    dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
                }
            }
        }

        // âœ… ë„ì°©ì ê¹Œì§€ì˜ ê²½ë¡œ ìˆ˜ ë°˜í™˜
        return dp[m - 1][n - 1];
    }

    public static void main(String[] args) {
        int[][] grid = {
                {0, 0, 0},
                {0, 1, 0},
                {0, 0, 0}
        };
        System.out.println("ê²½ë¡œ ìˆ˜: " + uniquePathsWithObstacles(grid)); // ì¶œë ¥: 2
    }
}
